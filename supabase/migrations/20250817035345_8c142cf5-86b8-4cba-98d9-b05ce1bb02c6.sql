-- Clear existing test data and load comprehensive historical data
TRUNCATE TABLE draws, number_frequencies RESTART IDENTITY CASCADE;

-- Insert comprehensive historical data
INSERT INTO draws (draw_id, date, time, number, created_at) VALUES
-- Friday 16 Aug 2025
('25985', '16-Aug-25', 'Evening', 32, '2025-08-16 20:00:00+00'),
('25984', '16-Aug-25', 'Afternoon', 20, '2025-08-16 16:00:00+00'),
('25983', '16-Aug-25', 'Midday', 19, '2025-08-16 13:00:00+00'),
('25982', '16-Aug-25', 'Morning', 22, '2025-08-16 10:00:00+00'),

-- Thursday 15 Aug 2025
('25981', '15-Aug-25', 'Evening', 9, '2025-08-15 20:00:00+00'),
('25980', '15-Aug-25', 'Afternoon', 16, '2025-08-15 16:00:00+00'),
('25979', '15-Aug-25', 'Midday', 31, '2025-08-15 13:00:00+00'),
('25978', '15-Aug-25', 'Morning', 35, '2025-08-15 10:00:00+00'),

-- Wednesday 14 Aug 2025
('25977', '14-Aug-25', 'Evening', 27, '2025-08-14 20:00:00+00'),
('25976', '14-Aug-25', 'Afternoon', 14, '2025-08-14 16:00:00+00'),
('25975', '14-Aug-25', 'Midday', 21, '2025-08-14 13:00:00+00'),
('25974', '14-Aug-25', 'Morning', 33, '2025-08-14 10:00:00+00'),

-- Tuesday 13 Aug 2025
('25973', '13-Aug-25', 'Evening', 24, '2025-08-13 20:00:00+00'),
('25972', '13-Aug-25', 'Afternoon', 23, '2025-08-13 16:00:00+00'),
('25971', '13-Aug-25', 'Midday', 32, '2025-08-13 13:00:00+00'),
('25970', '13-Aug-25', 'Morning', 32, '2025-08-13 10:00:00+00'),

-- Monday 12 Aug 2025
('25969', '12-Aug-25', 'Evening', 23, '2025-08-12 20:00:00+00'),
('25968', '12-Aug-25', 'Afternoon', 26, '2025-08-12 16:00:00+00'),
('25967', '12-Aug-25', 'Midday', 20, '2025-08-12 13:00:00+00'),
('25966', '12-Aug-25', 'Morning', 31, '2025-08-12 10:00:00+00'),

-- Saturday 11 Aug 2025
('25965', '11-Aug-25', 'Evening', 8, '2025-08-11 20:00:00+00'),
('25964', '11-Aug-25', 'Afternoon', 32, '2025-08-11 16:00:00+00'),
('25963', '11-Aug-25', 'Midday', 31, '2025-08-11 13:00:00+00'),
('25962', '11-Aug-25', 'Morning', 14, '2025-08-11 10:00:00+00'),

-- Friday 09 Aug 2025
('25961', '09-Aug-25', 'Evening', 10, '2025-08-09 20:00:00+00'),
('25960', '09-Aug-25', 'Afternoon', 19, '2025-08-09 16:00:00+00'),
('25959', '09-Aug-25', 'Midday', 24, '2025-08-09 13:00:00+00'),
('25958', '09-Aug-25', 'Morning', 28, '2025-08-09 10:00:00+00'),

-- Thursday 08 Aug 2025
('25957', '08-Aug-25', 'Evening', 11, '2025-08-08 20:00:00+00'),
('25956', '08-Aug-25', 'Afternoon', 7, '2025-08-08 16:00:00+00'),
('25955', '08-Aug-25', 'Midday', 24, '2025-08-08 13:00:00+00'),
('25954', '08-Aug-25', 'Morning', 20, '2025-08-08 10:00:00+00'),

-- Wednesday 07 Aug 2025
('25953', '07-Aug-25', 'Evening', 27, '2025-08-07 20:00:00+00'),
('25952', '07-Aug-25', 'Afternoon', 19, '2025-08-07 16:00:00+00'),
('25951', '07-Aug-25', 'Midday', 35, '2025-08-07 13:00:00+00'),
('25950', '07-Aug-25', 'Morning', 7, '2025-08-07 10:00:00+00'),

-- Tuesday 06 Aug 2025
('25949', '06-Aug-25', 'Evening', 6, '2025-08-06 20:00:00+00'),
('25948', '06-Aug-25', 'Afternoon', 16, '2025-08-06 16:00:00+00'),
('25947', '06-Aug-25', 'Midday', 28, '2025-08-06 13:00:00+00'),
('25946', '06-Aug-25', 'Morning', 23, '2025-08-06 10:00:00+00'),

-- Monday 05 Aug 2025
('25945', '05-Aug-25', 'Evening', 36, '2025-08-05 20:00:00+00'),
('25944', '05-Aug-25', 'Afternoon', 3, '2025-08-05 16:00:00+00'),
('25943', '05-Aug-25', 'Midday', 32, '2025-08-05 13:00:00+00'),
('25942', '05-Aug-25', 'Morning', 18, '2025-08-05 10:00:00+00'),

-- Monday 04 Aug 2025
('25941', '04-Aug-25', 'Evening', 24, '2025-08-04 20:00:00+00'),
('25940', '04-Aug-25', 'Afternoon', 18, '2025-08-04 16:00:00+00'),
('25939', '04-Aug-25', 'Midday', 21, '2025-08-04 13:00:00+00'),
('25938', '04-Aug-25', 'Morning', 28, '2025-08-04 10:00:00+00'),

-- Saturday 02 Aug 2025
('25937', '02-Aug-25', 'Evening', 18, '2025-08-02 20:00:00+00'),
('25936', '02-Aug-25', 'Afternoon', 6, '2025-08-02 16:00:00+00'),
('25935', '02-Aug-25', 'Midday', 16, '2025-08-02 13:00:00+00'),
('25934', '02-Aug-25', 'Morning', 5, '2025-08-02 10:00:00+00'),

-- Thursday 31 Jul 2025
('25933', '31-Jul-25', 'Evening', 3, '2025-07-31 20:00:00+00'),
('25932', '31-Jul-25', 'Afternoon', 8, '2025-07-31 16:00:00+00'),
('25931', '31-Jul-25', 'Midday', 7, '2025-07-31 13:00:00+00'),
('25930', '31-Jul-25', 'Morning', 14, '2025-07-31 10:00:00+00'),

-- Wednesday 30 Jul 2025
('25929', '30-Jul-25', 'Evening', 5, '2025-07-30 20:00:00+00'),
('25928', '30-Jul-25', 'Afternoon', 9, '2025-07-30 16:00:00+00'),
('25927', '30-Jul-25', 'Midday', 11, '2025-07-30 13:00:00+00'),
('25926', '30-Jul-25', 'Morning', 3, '2025-07-30 10:00:00+00'),

-- Tuesday 29 Jul 2025
('25925', '29-Jul-25', 'Evening', 33, '2025-07-29 20:00:00+00'),
('25924', '29-Jul-25', 'Afternoon', 26, '2025-07-29 16:00:00+00'),
('25923', '29-Jul-25', 'Midday', 33, '2025-07-29 13:00:00+00'),
('25922', '29-Jul-25', 'Morning', 14, '2025-07-29 10:00:00+00'),

-- Monday 28 Jul 2025
('25921', '28-Jul-25', 'Evening', 16, '2025-07-28 20:00:00+00'),
('25920', '28-Jul-25', 'Afternoon', 20, '2025-07-28 16:00:00+00'),
('25919', '28-Jul-25', 'Midday', 19, '2025-07-28 13:00:00+00'),
('25918', '28-Jul-25', 'Morning', 16, '2025-07-28 10:00:00+00'),

-- Saturday 26 Jul 2025
('25917', '26-Jul-25', 'Evening', 14, '2025-07-26 20:00:00+00'),
('25916', '26-Jul-25', 'Afternoon', 24, '2025-07-26 16:00:00+00'),
('25915', '26-Jul-25', 'Midday', 24, '2025-07-26 13:00:00+00'),
('25914', '26-Jul-25', 'Morning', 5, '2025-07-26 10:00:00+00'),

-- Friday 25 Jul 2025
('25913', '25-Jul-25', 'Evening', 21, '2025-07-25 20:00:00+00'),
('25912', '25-Jul-25', 'Afternoon', 5, '2025-07-25 16:00:00+00'),
('25911', '25-Jul-25', 'Midday', 7, '2025-07-25 13:00:00+00'),
('25910', '25-Jul-25', 'Morning', 15, '2025-07-25 10:00:00+00'),

-- Add more entries (continuing with more historical data)
('25909', '24-Jul-25', 'Evening', 34, '2025-07-24 20:00:00+00'),
('25908', '24-Jul-25', 'Afternoon', 33, '2025-07-24 16:00:00+00'),
('25907', '24-Jul-25', 'Midday', 7, '2025-07-24 13:00:00+00'),
('25906', '24-Jul-25', 'Morning', 35, '2025-07-24 10:00:00+00'),

('25905', '23-Jul-25', 'Evening', 8, '2025-07-23 20:00:00+00'),
('25904', '23-Jul-25', 'Afternoon', 3, '2025-07-23 16:00:00+00'),
('25903', '23-Jul-25', 'Midday', 7, '2025-07-23 13:00:00+00'),
('25902', '23-Jul-25', 'Morning', 25, '2025-07-23 10:00:00+00'),

('25901', '22-Jul-25', 'Evening', 30, '2025-07-22 20:00:00+00'),
('25900', '22-Jul-25', 'Afternoon', 23, '2025-07-22 16:00:00+00'),
('25899', '22-Jul-25', 'Midday', 14, '2025-07-22 13:00:00+00'),
('25898', '22-Jul-25', 'Morning', 16, '2025-07-22 10:00:00+00'),

('25897', '21-Jul-25', 'Evening', 4, '2025-07-21 20:00:00+00'),
('25896', '21-Jul-25', 'Afternoon', 13, '2025-07-21 16:00:00+00'),
('25895', '21-Jul-25', 'Midday', 32, '2025-07-21 13:00:00+00'),
('25894', '21-Jul-25', 'Morning', 35, '2025-07-21 10:00:00+00');

-- Update number_frequencies based on actual data
INSERT INTO number_frequencies (number, frequency, updated_at)
SELECT 
  number,
  COUNT(*) as frequency,
  now() as updated_at
FROM draws 
GROUP BY number
ON CONFLICT (number) 
DO UPDATE SET 
  frequency = number_frequencies.frequency + EXCLUDED.frequency,
  updated_at = EXCLUDED.updated_at;